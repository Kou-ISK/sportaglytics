# ロードマップ

> **関連ドキュメント**  
> [README.md](README.md) | [CONTRIBUTING.md](CONTRIBUTING.md) | [ARCHITECTURE.md](ARCHITECTURE.md)

このドキュメントは、SporTagLyticsの開発計画と将来の機能拡張予定を示します。

---

## 目次

1. [短期計画（3ヶ月以内）](#短期計画3ヶ月以内)
2. [中期計画（6ヶ月以内）](#中期計画6ヶ月以内)
3. [長期計画（1年以上）](#長期計画1年以上)
4. [継続的な改善タスク](#継続的な改善タスク)
5. [バージョニング方針](#バージョニング方針)

---

## 短期計画（3ヶ月以内）

### 優先度: 高

#### 1. テスト基盤の構築

- **タスク**: ユニットテスト・E2Eテストの整備
- **理由**: 品質保証、リグレッション防止
- **詳細**: [TESTING.md](TESTING.md)参照
- **マイルストーン**: v0.3.0

#### 2. エラーハンドリングの統一

- **タスク**: 統一的なエラーハンドリング戦略の確立
- **現状**: エラー処理が各コンポーネントで分散
- **対応**:
  - エラーバウンダリの導入
  - エラーログの一元管理
  - ユーザーへのエラーメッセージ改善

#### 3. パフォーマンス最適化

- **タスク**: 大量データ（10,000件以上のイベント）での動作検証
- **対応**:
  - タイムラインの仮想スクロール導入
  - 統計計算の最適化
  - メモ化の見直し

### 優先度: 中

#### 4. ラベルプリセット＋数字キー即付与

- **タスク**: ラベルを数字/Fキーで即座に付与可能にする
- **詳細**:
  - ラベルプリセットを設定画面で管理
  - `useHotkeyBindings`にプリセット専用キー設定を追加
  - モード切替なしで直接ラベル適用
- **ユーザーメリット**: タグ付け効率の大幅向上

#### 5. 選択中アクションジャンプ（次/前）

- **タスク**: 同じアクションの次/前インスタンスへショートカットで移動
- **提案キーバインド**: `⌥Tab` / `⌥⇧Tab`
- **ユーザーメリット**: 特定アクションの分析が容易に

#### 6. 選択HUD（合計/平均時間表示）

- **タスク**: タイムラインで選択中のインスタンスの統計をツールバーに表示
- **表示項目**:
  - 選択件数
  - 合計時間
  - 平均時間
- **実装場所**: `VisualTimeline`のツールバー

---

## 中期計画（6ヶ月以内）

### 優先度: 高

#### 7. クリップ書き出しオーバーレイ機能（完全実装）

- **タスク**: Matrix/選択インスタンスの映像クリップにオーバーレイ表示
- **詳細**:
  - 画面下部にアクション名・ラベル・メモをテキスト表示
  - FFmpegでの動画処理パイプライン構築
  - エクスポートダイアログでオーバーレイON/OFF選択
- **フォーマット**: シンプルな帯+白字/黒アウトライン
- **マイルストーン**: v0.4.0

#### 8. Storybook導入

- **タスク**: コンポーネントカタログの構築
- **理由**: UIコンポーネントの可視化、デザインシステムの整備
- **対象コンポーネント**:
  - 共通UI（ボタン、モーダル、カード等）
  - 設定画面の各タブ
  - 統計グラフコンポーネント
- **詳細**: [docs/design-system.md](docs/design-system.md)で推奨済み

### 優先度: 中

#### 9. Windows/Linux対応

- **タスク**: macOS以外のプラットフォームでのビルド・テスト
- **現状**: macOS専用（技術的にはElectronで対応可能）
- **対応内容**:
  - ビルド設定の追加
  - プラットフォーム固有のパス処理
  - 配布パッケージの作成（.exe, .AppImage等）

#### 10. データエクスポートの拡張

- **タスク**: Excel形式、PDF形式への対応
- **ユースケース**:
  - レポート作成
  - チームへの共有
  - プレゼンテーション資料

---

## 長期計画（1年以上）

### 優先度: 中

#### 11. クラウド同期機能

- **タスク**: パッケージデータのクラウド保存・共有
- **詳細**:
  - Google Drive / Dropbox統合
  - チーム間でのデータ共有
  - バージョン管理

#### 12. 機械学習による自動タグ付け

- **タスク**: 映像解析によるイベント自動検出
- **技術候補**:
  - TensorFlow.js
  - YOLO (物体検出)
  - 行動認識モデル
- **ユースケース**:
  - タックル、パス、キック等の自動検出
  - 手動タグ付けの補助

#### 13. リアルタイム分析ダッシュボード

- **タスク**: 試合中のリアルタイム統計表示
- **詳細**:
  - WebSocketによるライブデータ配信
  - 外部デバイス（タブレット等）での表示
  - コーチへのリアルタイムフィードバック

### 優先度: 低

#### 14. モバイルアプリ

- **タスク**: iOS/Android向けビューアアプリ
- **機能**:
  - タイムライン閲覧
  - 統計ダッシュボード表示
  - 簡易編集機能

#### 15. 多言語対応（i18n）

- **タスク**: 英語、スペイン語等への対応
- **現状**: 日本語のみ
- **実装**: react-i18next導入

---

## 継続的な改善タスク

### コードベースの健全性

- **型定義の厳密化**: 残存する`any`の撤廃
- **ESLintルールの強化**: コーディング規約の自動化
- **依存関係の更新**: セキュリティパッチの適用
- **パフォーマンス監視**: Lighthouse等でのスコア測定

### ドキュメント

- **API仕様の自動生成**: TypeDoc導入検討
- **ユーザーマニュアルの拡充**: スクリーンショット・動画追加
- **FAQ更新**: ユーザーフィードバックに基づく追加

### コミュニティ

- **GitHub Discussions活性化**: Q&A、アイデア募集
- **コントリビューターガイド**: 初心者向けIssueの整備
- **リリースノート**: ユーザー向けの変更点明記

---

## バージョニング方針

SporTagLyticsは[セマンティックバージョニング](https://semver.org/lang/ja/)を採用します。

### バージョン番号の形式

```
MAJOR.MINOR.PATCH
```

- **MAJOR**: 破壊的変更（データフォーマット変更等）
- **MINOR**: 新機能追加（後方互換性あり）
- **PATCH**: バグ修正、パフォーマンス改善

### 例

| バージョン | 変更内容               | 種別  |
| ---------- | ---------------------- | ----- |
| 0.2.2      | 現行バージョン         | -     |
| 0.2.3      | バグ修正のみ           | PATCH |
| 0.3.0      | テスト基盤追加、新機能 | MINOR |
| 1.0.0      | 正式リリース、安定版   | MAJOR |

### リリースサイクル

- **PATCH**: 必要に応じて随時
- **MINOR**: 2-3ヶ月ごと
- **MAJOR**: 大規模変更時（年1-2回）

### CHANGELOG管理

現在は手動運用。将来的には[conventional-changelog](https://github.com/conventional-changelog/conventional-changelog)での自動生成を検討。

---

## フィードバック

ロードマップへの意見や機能要望は、以下で受け付けています：

- [GitHub Discussions](https://github.com/Kou-ISK/sportaglytics/discussions): アイデア募集
- [GitHub Issues](https://github.com/Kou-ISK/sportaglytics/issues): 具体的な機能要望・バグ報告

コミュニティからのフィードバックを基に、優先順位を随時調整します。
